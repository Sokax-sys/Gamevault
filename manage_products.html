<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Qu·∫£n L√Ω S·∫£n Ph·∫©m - GameVault</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header class="header">
    <nav class="navbar">
      <button class="home-btn" onclick="window.location.href='index.html'">
        <img src="https://raw.githubusercontent.com/Sokax-sys/Photos/master/home_button.png" alt="GameVault Logo">
      </button>
      <div class="auth-buttons">
        <button class="neon-btn-outline" onclick="openAuthModal()">ƒêƒÉng k√Ω/ƒêƒÉng nh·∫≠p</button>
      </div>
      <div class="user-info" onclick="goToAccount()" style="display: none;">
        <img class="user-avatar" src="https://raw.githubusercontent.com/Sokax-sys/Photos/master/gamer.png" alt="Avatar">
        <span class="username"></span>
      </div>
      <div class="header-buttons">
        <button class="search-btn neon-btn" onclick="openSearchModal()">üîç</button>
        <button class="cart-btn neon-btn" onclick="goToCart()">üõí</button>
        <button class="top-up-btn neon-btn" onclick="openTopUpModal()">üí≥</button>
        <button class="globe-btn neon-btn" onclick="toggleLanguageMenu()">üåê</button>
        <button class="theme-toggle neon-btn" onclick="toggleTheme()">üåô</button>
      </div>
    </nav>
  </header>

  <main class="manage-products-main">
    <h2 class="neon-text">Qu·∫£n L√Ω S·∫£n Ph·∫©m</h2>
    <button class="neon-btn admin-only" onclick="openAddProductModal()">Th√™m S·∫£n Ph·∫©m</button>
    <div id="product-list" class="product-list"></div>
  </main>

  <!-- Modals -->
  <div id="add-product-modal" class="modal">
    <div class="modal-content">
      <span class="close-modal" onclick="closeModal('add-product-modal')">√ó</span>
      <h2>Th√™m/Ch·ªânh S·ª≠a S·∫£n Ph·∫©m</h2>
      <input id="product-id" class="neon-input" type="text" placeholder="ID S·∫£n Ph·∫©m (t·ª± ƒë·ªông)" readonly>
      <input id="product-name" class="neon-input" type="text" placeholder="T√™n S·∫£n Ph·∫©m">
      <select id="product-game" class="neon-select">
        <option value="Roblox">Roblox</option>
        <option value="Free Fire">Free Fire</option>
        <option value="Li√™n Qu√¢n">Li√™n Qu√¢n Mobile</option>
      </select>
      <input id="product-price" class="neon-input" type="number" placeholder="Gi√° (VNƒê)">
      <input id="product-image-url" class="neon-input" type="text" placeholder="URL ·∫¢nh" oninput="updateProductImagePreview()">
      <img id="product-image-preview" src="https://raw.githubusercontent.com/Sokax-sys/Photos/master/home_button.png" alt="Product Preview">
      <button class="neon-btn" onclick="saveProduct()">L∆∞u</button>
    </div>
  </div>

  <div id="auth-modal" class="modal">
    <div class="modal-content">
      <span class="close-modal" onclick="closeModal('auth-modal')">√ó</span>
      <h2 id="modal-title">ƒêƒÉng nh·∫≠p</h2>
      <input id="auth-username" class="neon-input" type="text" placeholder="T√™n ƒëƒÉng nh·∫≠p">
      <input id="auth-password" class="neon-input" type="password" placeholder="M·∫≠t kh·∫©u">
      <button class="neon-btn" onclick="handleAuth()">X√°c nh·∫≠n</button>
      <p class="toggle-auth" onclick="toggleAuthMode()">Ch∆∞a c√≥ t√†i kho·∫£n? ƒêƒÉng k√Ω!</p>
    </div>
  </div>

  <div class="modal" id="top-up-modal">
    <div class="modal-content">
      <span class="close-modal" onclick="closeModal('top-up-modal')">√ó</span>
      <h2>N·∫°p ti·ªÅn</h2>
      <div class="payment-methods">
        <label><input type="radio" name="payment-method" value="card" checked> Th·∫ª n·∫°p</label>
        <label><input type="radio" name="payment-method" value="bank"> Chuy·ªÉn kho·∫£n ng√¢n h√†ng</label>
        <label><input type="radio" name="payment-method" value="wallet"> V√≠ ƒëi·ªán t·ª≠</label>
        <label><input type="radio" name="payment-method" value="credit"> Th·∫ª t√≠n d·ª•ng</label>
      </div>
      <div id="card-payment" class="payment-form">
        <select id="card-type" class="neon-select">
          <option value="viettel">Viettel Money</option>
          <option value="mobifone">MobiFone</option>
          <option value="vinaphone">VinaPhone</option>
          <option value="gate">Gate</option>
          <option value="zing">Zing</option>
        </select>
        <input type="text" id="card-code" class="neon-input" placeholder="M√£ th·∫ª">
        <input type="text" id="card-serial" class="neon-input" placeholder="S·ªë seri">
      </div>
      <div id="bank-payment" class="payment-form" style="display: none;">
        <p>Th√¥ng tin chuy·ªÉn kho·∫£n:</p>
        <p>Ng√¢n h√†ng: Vietcombank</p>
        <p>S·ªë t√†i kho·∫£n: 12345678901234</p>
        <p>Ch·ªß t√†i kho·∫£n: Nguy·ªÖn Vi·ªát Kh√¥i</p>
        <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=STK:1234567890;Bank:Vietcombank;Content:NaptienGameVault" alt="QR Code" class="qr-code">
        <input type="number" id="bank-amount" class="neon-input" placeholder="S·ªë ti·ªÅn (VNƒê)">
        <input type="file" id="bank-receipt" class="neon-input" accept="image/*" placeholder="T·∫£i l√™n bi√™n lai">
      </div>
      <div id="wallet-payment" class="payment-form" style="display: none;">
        <p>Ch·ªçn v√≠ ƒëi·ªán t·ª≠: Momo, ZaloPay, Viettel Pay</p>
        <input type="text" id="wallet-id" class="neon-input" placeholder="ID v√≠ ƒëi·ªán t·ª≠">
        <input type="number" id="wallet-amount" class="neon-input" placeholder="S·ªë ti·ªÅn (VNƒê)">
      </div>
      <div id="credit-payment" class="payment-form" style="display: none;">
        <input type="text" id="credit-card-number" class="neon-input" placeholder="S·ªë th·∫ª t√≠n d·ª•ng">
        <input type="text" id="credit-expiry" class="neon-input" placeholder="Ng√†y h·∫øt h·∫°n (MM/YY)">
        <input type="text" id="credit-cvv" class="neon-input" placeholder="CVV">
      </div>
      <button class="neon-btn" onclick="processTopUp()">X√°c nh·∫≠n</button>
    </div>
  </div>

  <div id="search-modal" class="modal">
    <div class="modal-content">
      <span class="close-modal" onclick="closeModal('search-modal')">√ó</span>
      <h2>T√¨m ki·∫øm</h2>
      <input id="search-input" class="neon-input" type="text" placeholder="Nh·∫≠p t√™n s·∫£n ph·∫©m ho·∫∑c game">
      <button class="neon-btn" onclick="searchProducts()">T√¨m</button>
      <div id="search-results" class="product-list"></div>
    </div>
  </div>

  <div id="language-modal" class="modal">
    <div class="modal-content">
      <span class="close-modal" onclick="closeModal('language-modal')">√ó</span>
      <h2>Ch·ªçn Ng√¥n Ng·ªØ</h2>
      <div class="language-options">
        <label><input type="radio" name="language" value="vi"> Ti·∫øng Vi·ªát</label>
        <label><input type="radio" name="language" value="en"> English</label>
        <label><input type="radio" name="language" value="ja"> Êó•Êú¨Ë™û</label>
      </div>
      <button class="neon-btn" onclick="saveLanguage()">Ch·ªçn</button>
    </div>
  </div>

  <div id="product-context-menu" class="context-menu">
    <ul>
      <li onclick="editProduct()">Ch·ªânh s·ª≠a</li>
      <li onclick="deleteProduct()">X√≥a</li>
    </ul>
  </div>

  <div id="toast" class="toast" style="display: none;"></div>

  <script src="js/scripts.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      if (!JSON.parse(localStorage.getItem('isAdmin') || 'false')) {
        showToast('Ch·ªâ qu·∫£n tr·ªã vi√™n m·ªõi c√≥ th·ªÉ truy c·∫≠p trang n√†y!', 'error');
        window.location.href = 'index.html';
      }
    });
  </script>
</body>
</html>